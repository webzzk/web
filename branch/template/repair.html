<style>.space{margin-left:4px; }</style>
<div id="repair" class="repair"  ng-show="repair" style="z-index: 999">
    <div class='repair-body'>
        <div class="title">故障诊断作业记录表</div>
        <table class="table-layout">
            <thead>
                <tr>
                    <th style="width:220px">项目</th>
                    <th>作业记录内容</th>
                    <th style="width:180px">备注</th>
                </tr>
            </thead>

            <tr ng-repeat="x in xcjDataService.questionOrder">
                <td>{{$index+1}}.{{x.description}}</td>
                <td>
                    <div  ng-repeat="y in x.question">
                        <div  ng-if="y.type=='1'">
                            <span ng-class="{true: 'space', false: 'record-l'}[y.option.length==0]"   ng-if="y.description!=''">{{$index+1}}.{{y.description}}</span>
                            <span ng-if="y.option.length!=0"   class="record-r" style="height:42px;margin-bottom: -1px;">
                                <span   ng-repeat="z in y.option">
                                    <label  answer="{{z.id}}" result=0  numid="{{x.id}}" id="{{y.id}}" dataType="{{y.id}}" class="choice" ng-click="setRadioStyle(y.id,z.id,$event.target)" for="{{y.id}}"><input type="radio" name="{{y.id}}" />{{z.description}}</label>
                                </span>
                            </span>
                        </div>

                        <table  ng-if="y.type=='3'">
                            <td style="border:none;text-align: left;">
                                <span style="padding-left:6px;">{{$index+1}}.{{y.description}}</span>
                                    <table style="table-layout:fixed;width:97%;margin:8px;height: auto">
                                        <tbody ng-repeat="y2 in y.question">
                                            <tr>
                                                <td class="inner-td"  ng-repeat="td in y2.td.td">
                                                    {{td}}
                                                </td>
                                                <td class="inner-td"  ng-if="y2.option.length==2">
                                                    <span style="padding-left:3px;"  ng-repeat="option in y2.option">
                                                        <label answer="{{option.id}}"  id="{{option.id}}"  dataType="{{y2.id}}" class="choice" ng-click="setRadioStyle(y2.id,option.id,$event.target)"  for="{{y2.id}}"><input type="radio" />{{option.description}}</label>
                                                     </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                            </td>
                        </table>

                        <table  ng-if="y.type=='5'">
                            <tr>
                                <td style="border:none;text-align: left;">
                                    <span  style="padding-left: 6px;" ng-if="y.description != ''">{{$index+1}}.{{y.description}}</span>
                                    <table style="width:97%;margin:8px;height: auto">
                                        <tbody>
                                            <tr ng-repeat="y2 in y.question">
                                                <td>{{y2.question.description[0].description}}
                                                    <span style="padding-left: 4px;" ng-repeat="z in y2.question.option">
                                                          <label checked="1"  id="{{z.id}}" ng-if="$index==1" dataType="{{y2.id}}" class="choice" ng-click="setRadioStyle(y2.id,y2.question.option[1].id,$event.target)" for="{{y2.id}}"><input type="radio" name="{{y2.id}}" />{{z.description}}</label>
                                                          <label checked="2"  id="{{z.id}}" ng-if="$index==0" dataType="{{y2.id}}" class="choice" ng-click="setRadioStyle(y2.id,y2.question.option[0].id,$event.target)" for="{{y2.id}}"><input type="radio" name="{{y2.id}}" />{{z.description}}</label>
                                                    </span>

<!--                                                    <label usercheck="" optionid="{{y.option[y2.question[0].description[1].index].id}}" result=""   type="2" answer="{{y2.id.substring(0,9)}}" dataType="{{y.id}}" class="checkbox" ng-click="setCheckboxStyle($event.target,true,true)" for="{{y.id}}">
                                                        <input type="checkbox" />{{y2.question[0].description[1].description}}
                                                    </label>-->
<!--                                                    <span style="margin-left:6px;">
                                                        <label checked="2" isSelected="{{y.option[y2.question[0].description[1].index].id}}1"  dataType="{{y2.id}}"  name="{{y2.id}}"  class="choice" ng-click="setRadioStyle(y2.id,y.option[y2.question[0].description[1].index].id+1,$event.target)" for="{{y.id}}"><input type="radio" name="{{y.id}}" />是</label>
                                                        <label checked="1" isSelected="{{y.option[y2.question[0].description[1].index].id}}2"  dataType="{{y2.id}}"  name="{{y2.id}}"  class="choice" ng-click="setRadioStyle(y2.id,y.option[y2.question[0].description[1].index].id+2,$event.target)" for="{{y.id}}"><input type="radio" name="{{y.id}}" />否</label>
                                                    </span>-->
                                                </td>
                                                <td style="line-height: 30px;padding-left:4px;">
                                                    {{y2.question.description[1].description}}
                                                   <!--ng-if="y2.question[0].description[1].isSub==1" {{y.option[y2.question[0].description[1].index].description}}-->
                                                     <span sign="{{y2.id}}"><input total="{{y.id}}"   num="{{y.id}}" result=""  data="{{y2.question.option[0].option}}" out="{{y2.id}}" name="{{y2.id}}" style="display: none"  readonly="readonly" class="readtext" ng-click="popupContent(y2.id,$event.target)" type="text"/></span>

                                                    <div layer="{{y2.id}}" layer11="{{y.option[y2.question[0].description[1].index].id.substring(0,9)}}" style="display: none"  ng-repeat="option in y2.question.option[0].option">
                                                         <label  selectid="{{y2.id}}" type="2" question="{{y.option}}"  optionid="{{y2.question.option[0].id}}"  qid="{{y2.id}}" answer="{{option.id}}" dataType="{{option.id}}" text="{{option.description}}" class="checkbox" ng-click="setCheckboxStyle($event.target,false)"  for="{{option.id}}">{{option.description}}</label>
                                                     </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </td>
                            </tr>
                        </table>

                        <div ng-if="y.type=='4'" style="padding-left: 6px;">
                            <h5 ng-if="y.description != ''">{{$index+1}}.{{y.description}}</h5>
                            <div ng-repeat="z in y.option">
                                <label checked="1"  id="{{z.id}}" ng-if="$index==0" dataType="{{y.id}}" class="choice" ng-click="setRadioStyle(y.id,z.id,$event.target)" for="{{y2.id}}"><input type="radio" name="{{y2.id}}" />{{z.description}}</label>
                                <label checked="2"  id="{{z.id}}" ng-if="$index==1" dataType="{{y.id}}" class="choice" ng-click="setRadioStyle(y.id,z.id,$event.target)" for="{{y2.id}}"><input type="radio" name="{{y2.id}}" />{{z.description}}</label>
                                <span sign="{{y.id}}"   ng-if="z.option.length!=0" ><input  out="{{z.id}}" style="display: none"  result="" data="{{z.option}}"   name="{{z.id}}" ng-click="popupContent(y.id,$event.target)"  readonly="readonly" class="readtext"/></span>
                                <div layer="{{y.id}}" style="display: none;" ng-repeat="ckb in z.option">
                                    <label selectid="{{z.id}}" question="{{z.id}}" optionid="{{z.id}}"   type="2" qid="{{y.id}}" answer="{{ckb.id}}"  dataType="{{ckb.id}}" class="checkbox" ng-click="setCheckboxStyle($event.target,false)"  for="{{ckb.aid}}"><input type="checkbox" id="{{ckb.aid}}" />{{ckb.description}}</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td>{{x.remark}}</td>
            </tr>
        </table>
        <!--弹出层选择-->
        <div id="popup" class="popup"  ng-show="popup">
            <div class="close" ng-click="colsePopup()"></div><!--关闭-->
            <div id="popcontent" class="content"></div><!--内容-->
            <div class="ensure" ng-click="ensurePopup()"></div><!--确认-->
        </div>
    </div>
</div>
<script type="text/javascript">
    $(function() {
        $('#repair').perfectScrollbar();
    });
</script>
